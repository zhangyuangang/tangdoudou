(function(){var e={},t="",n="",r=function(e,r){t&&t.remove();var i=['<div class="m-icp">','	<span class="icon-to"></span>','	<div class = "m-icp-content">',"		<%= data %>","	</div>","</div> "].join("");t=$(So.lib.template(i,{data:e,type:r.attr("data-type")})),t.css({width:312,top:r.offset().top+26,left:r.offset().left-22}).on("mouseenter",function(){clearTimeout(n)}).on("mouseleave",function(){t.remove()}),$("#outer").append(t);var s="",o=r.closest(".res-list").find(".res-title a");o.data("url")?s=o.data("url"):s=So.lib.getLinkUrl(o.attr("href")),So.lib.log("",{value:"show",q:So.comm.q,type:r.find(".icp-type").text(),link:s,v:r.find(".tip-v").length>0?1:0},"sou/disp_icp"),t.on("click","a",function(){So.lib.log("renzheng",{type:"click",datatype:$(this).attr("bk")||""})})},i=function(t){var n=[t.data("k"),t.data("h")].join("_");if(e[n]){r(e[n],t);return}var i="http://webid.360.cn/webid.php?host="+encodeURIComponent(t.attr("data-h"))+"&key="+encodeURIComponent(t.attr("data-k"));$.ajax({url:So.lib.sslProxy(i).url,type:"get",dataType:"jsonp",success:function(i){if(i==="")return;i=So.lib.sslReplace(i),e[n]=i,r(e[n],t)}})};$("body").on("mouseenter","a.mingpian",function(){var e=$(this);clearTimeout(n),n=setTimeout(function(){i(e)},200)}).on("mouseleave","a.mingpian",function(){clearTimeout(n),n=setTimeout(function(){t.length>0&&t.remove()},200)})})(),function(){window.notice={host:"http://misc2.wenda.so.com",_runtime:{wen:0},init:function(){var e=this;if(e.isAllow()){var t="/notice/getsearchnotice?cb=notice.wenda";So.comm.user.qid?t=t+"&qid="+So.comm.user.qid:t=t+"&qid="+So.lib.cookie.get("WDNASK");var n=So.lib.sslProxy(e.host+t);$.getScript(n.url)}},wenda:function(e){var t=this;e.notice_num&&e.notice_num>0&&(t._runtime.wen=e.notice_num,t.display());var n=new Date;n.setHours(n.getHours()+8),t.lock(n)},isAllow:function(){if(!So.lib.cookie.get("_pp_wd")){if(So.lib.cookie.get("WDNASK")&&!So.comm.user.qid)return!0;if(So.comm.user.qid)return!0}return!1},display:function(){var e=this,t="q="+encodeURIComponent(So.comm.q),n=".hd-rtools",r=e.getContent(),i=!1;if($(n).find("#pop_wenda").length==0)return $(n).append(r),monitor.setConf("popUrl","//s.360.cn/so/disp_pop.gif?"+t),monitor.log({mod:"wenda",pid:"result",pro:"www"},"pop"),$("#pop_wenda").bind("click",function(){$(n).find("#pop_wenda").remove(),i=!0;var t=new Date;t.setDate(t.getDate()+1),t.setHours(0,0,0),e.lock(t)}),!1},getJumpUrl:function(){try{return So.comm.user.qid?"http://wenda.so.com/user/noticelist/"+So.comm.user.qid+"?src=web_pop":"http://wenda.so.com/nonLogin/notice?src=web_pop"}catch(e){return"http://wenda.so.com/nonLogin/notice?src=web_pop"}},getContent:function(){var e=this,t="";return t=['<div id="pop_wenda">','<a href="http://wenda.so.com/?src=web_pop" target="_blank">360\u95ee\u7b54</a>',"<cite>|</cite>",'<a href="'+e.getJumpUrl()+'" target="_blank">','\u60a8\u6709<em class="num">'+e._runtime.wen+"\u6761</em>\u95ee\u7b54\u6d88\u606f","</a>",'<span class="ico-target"></span>','<a href="javascript:;" class="ac-ppwd-close"><i>\u00d7</i></a>',"</div>"].join(""),t},lock:function(e){So.lib.cookie.set("_pp_wd",1,{expires:e})}},notice.init()}(),function(){var e=$("#adv-search"),t=$(".adv-search-btn"),n=e.find("[data-type=time-range]"),r=$("#head .form"),i="so-adv",s=t.attr("data-val"),o=function(){e.hide(),t.removeClass("hover")},u={init:function(){var e=this;e.searchItem(),e.event()},event:function(){var n;$(".adv-search-wrap").hoverDelay({hoverEvent:function(){e.show(),t.addClass("hover")},outEvent:function(){o()}})},searchItem:function(){e.on("click","a",function(e){var n=$(this).attr("data-val");n==t.attr("data-val")?o():(r.append('<input type="hidden" name="adv_t" value="'+n+'" />'),setTimeout(function(){r.submit()},100))})}};u.init()}(),So.web._richsum=function(){return function(){$(".res-rich").on("click",".res-comm-more",function(e){var t=$(this),n=t.parent(),r="\u5c55\u5f00\u5168\u90e8",i="\u6536\u8d77",s=$(e.delegateTarget),o="li:gt(0)";s.hasClass("so-rich-urllink")?(r="\u67e5\u770b\u66f4\u591a",o=".topmore"):s.hasClass("so-rich-multilink")?o="li:gt(1)":s.hasClass("so-rich-labour-teletext")?(r="\u67e5\u770b\u66f4\u591a",o="li:gt(3)"):s.hasClass("rich-lbs-findplace")?(r="\u5c55\u5f00",i="\u6536\u8d77",o="div a:gt(1)"):s.hasClass("res-autocar")&&(r="\u540c\u7c7b\u8f66\u63a8\u8350",i="\u540c\u7c7b\u8f66\u63a8\u8350",o=".cars"),n.hasClass("res-comm-open")?(t.removeClass("res-comm-arrow").html(r).attr("data-type","open"),n.removeClass("res-comm-open").find(o).hide()):(t.addClass("res-comm-arrow").html(i).attr("data-type","close"),n.addClass("res-comm-open").find(o).show())}),$(".so-rich-site-image, .so-rich-site-life, .so-rich-site-life .cate-nav").each(function(e){var t,n=$(this),r=n.find(".block"),i=".nav a",s=function(e){e.addClass("hover").siblings().removeClass("hover"),r.hide().eq(e.index()).show()};n.hasClass("so-rich-site-image")?(i=".comm-other a",s=function(e){e.hasClass("all")||(r.hide().eq(parseInt(e.index())-1).show(),e.closest(".comm-other").find("a").removeClass("hover"),e.addClass("hover"))},n.find(".block li").each(function(e,t){$(t).mouseenter(function(){$(this).find(".footnote p").removeClass("ol")}).mouseleave(function(){$(this).find(".footnote p").addClass("ol")})})):n.hasClass("cate-nav")&&(i="a",s=function(e){e.addClass("hover").siblings().removeClass("hover"),e.parent().siblings(".cate-block").hide().eq(e.index()).show()}),n.find(i).mouseenter(function(){var e=$(this);t=setTimeout(function(){s(e)},200)}).mouseleave(function(){clearTimeout(t)})}),function(){if($(".baike3c-upgrade").length>0){var e=$(".baike3c-upgrade .rich-3c-box"),t=e.find(".tabs li a"),n=e.find(".details .tab-item");t.on("mouseenter",function(){var e=$(this).data("index");$(this).addClass("selected").parent("li").siblings().find("a").removeClass("selected"),n.hide().eq(e).show()}),t.on("click",function(){var e=$(this).data("index");$(this).addClass("selected").parent("li").siblings().find("a").removeClass("selected"),n.hide().eq(e).show()})}}(),$(".res-rich .g-card-foot").length>0&&(_loader.add("haosouPager","https://s.ssl.qhres.com/static/829be658513aea47/haosouPager.js"),_loader.use("jquery,haosouPager",function(){$(".so-rich-slider").each(function(){var e=$(this),t=$(".list-wrap .block",e),n=$(".g-card-foot",e).attr("data-page");n&&$(".g-card-foot",e).haosouPager({totalPage:n,currPage:1,callback:function(n){var r=$(".list-wrap",e).first().width(),i=$(".list-wrap .list",e).first(),s=t.eq(n-1);So.lib.lazyImg(s),i.stop().animate({left:-(n-1)*r})}})})}));if($(".so-rich-datalist").length>0)for(var e=1;e<4;e++){var t=".datalistPager"+e,n=" .datalist-outer-wrap";if($(t+n).length>0){var r=$(t),i=r.data("type");r.slider({blockWrap:"ul.datalist-wrap",block:"li",left:".pager-wrap.prev",right:".pager-wrap.next",autoSpeed:0,speed:400,isLoop:!1,eachGroupCount:i=="small"?6:5,arrowDisableClass:"disabled",pagesTurningFun:function(e){So.lib.lazyImg(e)}})}}if(So.web.cmsbaike&&So.web.cmsbaike.url){var s=!1;$.each($('#main h3.res-title a[data-url*="baike.so.com"]'),function(e,t){!o&&$(t).width()<=440&&($(t).after('<a href="'+So.web.cmsbaike.url+'" target="_blank" class="baike-edit">'+So.web.cmsbaike.txt+"</a>"),o=!0,So.lib.log("yjbk",{type:"show"}),$(".baike-edit").on("mousedown",function(){So.lib.log("yjbk",{type:"click"})}))})}if(So.web.cmswenda&&So.web.cmswenda.url){var o=!1;$.each($('#main h3.res-title a[data-url*="wenda.so.com"]'),function(e,t){!o&&$(t).width()<=440&&($(t).after('<a href="'+So.web.cmswenda.url+'" target="_blank" class="wenda-edit">'+So.web.cmswenda.txt+"</a>"),o=!0,So.lib.log("yjdt",{type:"show"}),$(".wenda-edit").on("mousedown",function(){So.lib.log("yjdt",{type:"click"})}))})}}}(),So.web._richsum(),So.page.reload.push(So.web._richsum),So.web.login=function(){function n(e){var n=window.location.protocol=="https:"?0:1;return t[e][n]}function r(e,t){_loader.add("jspassport",n("js")),_loader.use("jspassport",function(){i(),e()})}function i(){QHPass.init("pcw_so"),QHPass.setConfig("supportHttps",["360.cn","360.com","so.com"]),QHPass.setConfig("domainList",["360.cn","360.com","so.com","qihoo.com"]),QHPass.setConfig("signIn.types",["normal","qrcode"])}function s(e){QHPass.signIn(function(){e&&e(),location.reload(!0)})}function o(){QHPass.signUp(function(){location.reload(!0)})}function u(){QHPass.signOut(["so.com"],function(){location.reload(!0)})}function a(e){r(function(){s(e)},!0)}function f(){r(u,!1)}function l(){$("#user-login").bind("click",function(){return r(s,!0),!1}),$("#user-reg").bind("click",function(){return r(o,!0),!1}),So.comm.pid=="www"&&$("#user-logout").bind("click",function(){return r(u,!1),!1}),$(document.body).delegate(".pop-dia-close","click",function(){return window.location.reload(),!1})}var e=null,t={js:["https://jspassport.ssl.qhimg.com/5.0.3.js","http://js.passport.qihucdn.com/5.0.3.js"]};return l(),{signIn:a,logout:f}}(),So.web.setSoid=function(){function l(e){return parseInt("0x"+e)}function c(){var e=[],t=[],i="";if(r.length!=n[1])return"";for(var s=0;s<n[2];s++)i=r.substr(s*n[3],n[3]),/^(0+)/.test(i)&&(o[s]=RegExp.$1.length),e.push(l(i));e=e.concat([a,f]);for(var u=0;u<n[4];u++)t.push(h(e[u],u)+u);return t.sort(function(){return Math.random()>.5?1:-1}),t.join("")}function h(t,r){var i="",s=[];while(parseInt(t)!=0)s.push(t%n[0]),t=Math.floor(t/n[0]);s.reverse();while(o[r]--)s.unshift(0);for(var u=s.length,a=0;a<u;a++)i+=e[s[a]];return i}function p(){var n=t[0]+t[2],r=t[1]+t[3];for(var i=0,s=n.length;i<s;i++)e+=n.substr(i,1)+r.substr(i,1);e=e.split("")}function d(){try{r=external.GetMID(external.GetSID(window))}catch(e){}try{r=window.wdextcmd.GetMid()}catch(e){}r.length==n[1]?v():i==0?(i=1,setTimeout(d,400)):u.call(this,"",r)}function v(){p(),u.call(this,c(),r)}var e="",t=["RSTUVWY68ACEGIKM","z!(_~XZabcdefghi","OQ)-nopqrst9ywL.","jklm7BFJN*uHxvDP"],n=[60,32,4,8,6],r="",i=0,s=0,o=[0,0,0,0,0,0],u,a,f;return{init:function(e,t,n){a=e,f=t,u=n||function(){},d()}}}();if(So.lib.cookie.get("soid")&&So.web.soid.rm){var d=new Date;d.setFullYear(d.getFullYear()-1),So.lib.cookie.set("soid","",{expires:d,path:"/",domain:"so.com"})}So.lib.cookie.get("soid")||So.web.setSoid.init(So.web.soid.sign,So.web.soid.ts,function(e,t){if(e){var n=new Date;n.setFullYear(n.getFullYear()+10),So.lib.cookie.set("soid",e,{expires:n,path:"/",domain:"so.com"})}});var HUID={key:"__huid",isgetHuid:"gtHuid",times:3,timer:null,callback:function(){},set:function(e){var t=this,n=new Date,r=document.body||document.documentElement;r.removeChild(document.getElementById("huid"));if(e["errno"]==0&&e.huid){n.setFullYear(n.getFullYear()+10),So.lib.cookie.set(t.key,e.huid,{expires:n,path:"/",domain:".so.com"});var i=new Date;i.setMinutes(i.getMinutes()+10),So.lib.cookie.set(t.isgetHuid,"1",{expires:i}),t.jump()}else t.times>0?setTimeout(function(){t.pull()},0):t.jump()},jump:function(){this.callback()},pull:function(){var e=document.body||document.documentElement,t=document.createElement("script");t.id="huid",t.src="//socm.dmp.360.cn/HUID.set?_="+new Date*1,e.appendChild(t),this.times--},mix:function(e){var t=0,n="",r=new Date*1,i=Math.floor(Math.random()*15),s="qiho360xinz";while(t<2)n+=s.charAt(Math.floor(Math.random()*8)),t++;return _token=e.substr(i,r.length),e=e.replace(_token,r),e=n+e+_token+"."+i,e},init:function(e){var t=this,n=null,r=new Date;t.callback=e||t.callback;try{n=external.GetMID(external.GetSID(window)),n&&!So.lib.cookie.get("__md")&&(r.setFullYear(r.getFullYear()+10),So.lib.cookie.set("__md",t.mix(n),{expires:r}),So.comm.md=t.mix(n))}catch(i){}try{n=window.wdextcmd.GetMid(),n&&!So.lib.cookie.get("__md")&&(r.setFullYear(r.getFullYear()+10),So.lib.cookie.set("__md",t.mix(n),{expires:r}),So.comm.md=t.mix(n))}catch(i){}So.lib.cookie.get(t.isgetHuid)&&So.lib.cookie.get(t.key)?t.jump():t.pull(),t.timer&&clearInterval(t.timer),t.timer=setInterval(function(){t.pull()},6e5)}};HUID.init(function(){if(!window.ActiveXObject&&!("ActiveXObject"in window))return;var e=So.lib.cookie.get(HUID.key),t=So.lib.cookie.get("soid"),n;t?n="M"+t:e&&(n="H"+e),n&&$.getScript("//smart.sug.so.com/setid?_="+So.comm.t+"&id="+n)}),function(){$("body").on("mousedown","a[href]",function(){if($(this).closest("#no-res-helper,#mohe-know_side_nlp_sohot").length)return;var e=$(this).attr("href"),t=So.comm.fr||"",n=So.comm.monitor&&So.comm.monitor.ls||"",r="",i="",s={},o=e.indexOf("#");(t||/^pclm/i.test(n))&&/^(https?\:\/\/www\.(so|haosou)\.com)?\/s\?/i.test(e)&&(So.lib.parseQuery(e).fr||(s.fr=t),!So.lib.parseQuery(e).ls&&/^pclm/i.test(n)&&(s.ls=n),$.isEmptyObject(s)||(i="&"+$.param(s)),o>-1?r=e.substring(0,o)+i+e.substr(o):r=e+i,$(this).attr("href",r))}),$("#side").on("mousedown","a[href]",function(){var e=$(this).attr("href"),t=So.comm.monitor.lm_extend||"",n=So.comm.monitor&&So.comm.monitor.ls||"",r="",i="",s={},o=e.indexOf("#");if(!/^(https?\:\/\/www\.(so|haosou)\.com)?\/s\?/i.test(e)&&!So.lib.parseQuery(e).ls)return;/^pclm/i.test(n)&&(s.ls=n),!So.lib.parseQuery(e).lm_extend&&(/^sm/i.test(n)||/^sn/i.test(n))&&(t=="ctype:31"||t=="ctype:32")&&(s.ls=n,s.lm_extend=t),$.isEmptyObject(s)||(i="&"+$.param(s)),o>-1?r=e.substring(0,o)+i+e.substr(o):r=e+i,$(this).attr("href",r)})}(),function(){PageLine.release("release");var e=$("#weixinlk"),t=$("#weixinlk span");e.on("click",function(e){return t.css("display")=="none"?t.fadeIn():t.fadeOut(),e.stopPropagation(),!1}),$(document).on("click",function(){t.css("display")!="none"&&t.fadeOut()}),$("#mobile").on("click",function(){So.lib.cookie.remove("force_www_so")});if(typeof So.lib.cookie.get("dpr")=="undefined"){var n=new Date;n.setFullYear(n.getFullYear()+1),So.lib.cookie.set("dpr",window.devicePixelRatio||"",{expires:n})}So.lib.isSupportWebp(),So.comm.enajax&&(_loader.add("res-ajax","https://s.ssl.qhres.com/static/c1953dad00a4a5d6/result/res-ajax.js"),_loader.use("res-ajax",function(){})),setTimeout(function(){location.reload()},72e6),So.web.typing&&(_loader.add("typing","https://s.ssl.qhres.com/static/a022d4470f689a4e/result/typing.js"),_loader.use("typing",function(){}))}(),$(function(){var e={init:function(){e.bindEvent(),e.hideTip()},bindEvent:function(){var t=["input","textarea","button","img","html","body"];$("#warper").on("mouseup",".res-list",function(n){var r=e.getSelectionText(),i=e.getTipPosition().top,s=e.getTipPosition().left,o=i+10,u=s-18;if(n.target&&n.target.nodeName&&$.inArray(n.target.nodeName.toLowerCase(),t)>=0)return;if(i<=0&&s<=0)return;if(r!=""&&r.length>0&&e.regExp(r)){var a="//open.onebox.so.com/ui/?query="+r+"&d=pc&osrc=newdict1&callback=?";e.ajaxFn(a,f);function f(t){var n=e.getTranslationText(t);n.length>0&&e.showTip(n,u,o,r,t)}}}),$("#warper").on("mouseup","res-list",function(e){$("#translationTip").remove()})},getSelectionText:function(){var e="";return document.selection?e=document.selection.createRange().text:window.getSelection&&(e=window.getSelection().toString()),e},getSelectionTextPosition:function(){var t=e.getSelectionText(),n=null,r={width:0,height:0,top:0,left:0,right:0};return document.selection&&t.length>0?(n=document.selection.createRange().getBoundingClientRect(),r.top=n.top,r.bottom=n.bottom,r.left=n.left,r.right=n.right,r.width=r.right-r.left,r.height=r.bottom-r.top):window.getSelection&&t.length>0&&(n=window.getSelection().getRangeAt(0).getBoundingClientRect(),r.top=n.top,r.left=n.left,r.width=n.width,r.height=n.height),r},getTranslationText:function(t){var n="",r="",i=0,s=e.isWord(t);if(s){!$.isEmptyObject(t)&&!$.isEmptyObject(t[0])&&!$.isEmptyObject(t[0].data)&&!$.isEmptyObject(t[0].data.basic)&&!$.isEmptyObject(t[0].data.basic.explains)&&(n=t[0].data.basic.explains),n.length>=3?i=3:i=n.length;for(var o=0;o<i;o++)r+=n[o]+"<br>"}else!$.isEmptyObject(t)&&!$.isEmptyObject(t[0])&&!$.isEmptyObject(t[0].data)&&!$.isEmptyObject(t[0].data.translation)&&(r='<span class="txt">\u8bd1\uff1a</span>'+t[0].data.translation);return r},isWord:function(e){var t;return!$.isEmptyObject(e)&&!$.isEmptyObject(e[0].data)&&($.isEmptyObject(e[0].data.basic)?$.isEmptyObject(e[0].data.translation)||(t=!1):t=!0),t},getScroll:function(){var e={top:$(document).scrollTop(),left:$(document).scrollLeft()};return e},showTip:function(t,n,r,i,s){var o="<div id='translationTip' class='translationTip'><div class='triangle'><span class='out'></span><i class='inner'></i></div>"+t+"</div>",u=e.isWord(s);$("body").append(o),$("#translationTip").css({top:r+"px",left:n+"px"}).show("fast"),u?So.lib.log("fanyi-word",{q:i}):So.lib.log("fanyi-sentence",{q:i})},hideTip:function(){$(document).on("mouseup",function(e){e.target.id!="translationTip"&&$("#translationTip").remove()})},getTipPosition:function(){var t={left:0,top:0},n=e.getSelectionTextPosition().top,r=e.getSelectionTextPosition().left,i=e.getSelectionTextPosition().width,s=e.getSelectionTextPosition().height,o=e.getScroll().top,u=e.getScroll().left;return t.top=n+o+s,t.left=r+u+i/2,t},regExp:function(e){var t=/^[\.\?\!\s'\u2019,:;a-z]+$/i;return t.test(e)==1?!0:!1},ajaxFn:function(e,t){$.ajax({method:"GET",dataType:"jsonp",url:e}).done(function(e){t&&t(e)})}};e.init()}),function(){if(/msie 6/i.test(navigator.userAgent)||$("#side").is(":hidden"))return;var e="nlpExact",t=0,n=0,r,i,s=$("#header .inner"),o,u=$("#container").offset().top,a,f,l,c,h=$("#header").height(),p=!1,d,v=function(){if($("#rs").length==0)return;var e=$("#rs");e.find("table").width()-e.find("th:last").outerWidth()>681&&e.find("tr").find("th:last a").css("visibility","hidden")},m=function(e){for(var t=0;t<e.length;t++)e[t].list.length<2&&(e.splice(t,1),t--);return e=e.slice(0,3),e.length==1&&(e[0].list=e[0].list.slice(0,12)),e.length==2&&(e[0].list=e[0].list.slice(0,8),e[1].list=e[1].list.slice(0,e[0].list.length>4?4:8)),e.length==3&&(e[0].list=e[0].list.slice(0,4),e[1].list=e[1].list.slice(0,4),e[2].list=e[2].list.slice(0,4)),e},g=function(t){t=m(t),$("#nlp_exact_recommend").remove(),$("#side").css("visibility","visible");var n=['<div id="nlp_exact_recommend">','<a class="close" href="javascript:;"></a>','<div class="inner">','<a class="close1" href="javascript:;"></a>'];for(var r=0,i=t.length;r<i;r++){n.push("<dl>"),n.push("<dt>"+t[r].recreason+"</dt>");for(var s=0,o=t[r].list.length;s<o;s++){s%4==0&&n.push("<dd>");var u=t[r].list[s];n.push('<a href="/s?ie=utf-8&q='+encodeURIComponent(u.title)+"&src=know_side_nlp_pop&psid="+So.comm.sid+'" target="_blank">'),n.push('<div class="image-wrap"><span class="mask"></span><img width="74px" height="74px" src="'+So.lib.getPicUrl(u.imgsrc,"/dmsmty/74_74_")+'"></div>'+So.lib.cutStr(u.title,16)),n.push("</a>"),(s%4==3||s==o-1)&&n.push("</dd>")}n.push("</dl>")}n.push("</div>"),n.push("</div>"),$nlpExactRcommend=$(n.join("")),$("#container").append($nlpExactRcommend),c=$nlpExactRcommend.find(".inner"),l=$nlpExactRcommend.find(".close"),c.find("dd a").on("click",function(){var t=$(this);So.lib.log(e,{type:"itme",p1:d,p2:t.closest("dl").find("dt").text(),value:t.text()})})},y=function(){function n(){t=0,$("#side").css("visibility","visible"),$nlpExactRcommend.animate({width:0,marginLeft:350},function(){$("#rs").find("a").css("visibility","visible"),$nlpExactRcommend.remove()})}l.on("click",function(){n(),So.lib.log(e,{type:"close",p1:d})}),$nlpExactRcommend.find(".close1").on("click",function(){n(),So.lib.log(e,{type:"close1",p1:d})})},b=function(){a=60,o=$(window).scrollTop();if($("#head_pdr_guide").length>0||$("#header.site-search").length>0)a=80;o+a>=u?($nlpExactRcommend.addClass("fixed").css({left:$("#side").offset().left-19-$(window).scrollLeft()}),l.css({top:n-(o+a-u)}),c.stop(!0).delay(100).animate({marginTop:a})):($nlpExactRcommend.removeClass("fixed").css({left:$("#side").offset().left-19}),l.css("top",n),c.stop(!0).animate({marginTop:0}))};$("#warper").on("click",".res-title a[data-res], #main [id^=mohe-] h3 a.mh-title, #main [id^=mohe-] h3.title a, #main [id^=mohe-] h3.mh-title a, #main [id^=mohe-] h3.res-title a",function(){var r=$(this),i=r.data("url")||So.lib.getLinkUrl(r.attr("href"));if(!/^http|s\?|\/\//i.test(i))return;So.lib.log(e,{type:"click",p1:d}),i&&$.ajax({url:"//api.ssl.so.com/rmdt",data:{title:r.text(),query:So.comm.q,from:"urlacc",url:i},dataType:"jsonp",success:function(i){i&&i.data&&i.data.length>0&&(d=i.data[0].version,t=0,n=r.position().top,g(i.data),v(),y(),So.lib.log(e,{type:"ajax",p1:d}))}})}),$(window).on("focus",function(){$("#container").find("#nlp_exact_recommend").length>0&&t==0&&setTimeout(function(){t=1,p=!1,$("#side").css("visibility","hidden"),b(),$nlpExactRcommend.show(),So.lib.log(e,{type:"show",p1:d})},200)}).on("scroll",function(){t==1&&(clearTimeout(r),r=setTimeout(b,11))}).on("resize",function(){t==1&&(clearTimeout(r),r=setTimeout(b,11))})}(),function(){function u(e,t){So.lib.observer.subscribe(e,function(e,n){i=n;if(n.find(".inline-recommend").length)return;q={query:So.comm.q},$.extend(e,q),a(e,n,t)})}function a(e,t,n){if($.isEmptyObject(e)||$.isEmptyObject(t))return;(function(n){$.ajax({url:"//api.ssl.so.com/recommand/list",type:"get",dataType:"jsonp",data:e,success:function(e){if(e&&e.no===0&&e.data&&e.data.queries&&e.data.queries.length>=2){var r=e.data.version||"",i=e.data.queries,s=['<div class="inline-recommend"><span>\u4e3a\u60a8\u63a8\u8350\uff1a</span>'];for(var o=0,u=i.length;o<u;o++)s.push('<a href="/s?ie=utf-8&q='+encodeURIComponent(i[o])+"&src="+n+"_"+r+"&psid="+So.comm.sid+'" target="_blank" data-pos="'+(o+1)+'">'+So.lib.escapeHTML(i[o])+"</a>");s.push("</div>"),s=s.join(""),So.lib.observer.publish("so.recommend.tpl",{tpl:s,version:e.data.version,machine:e.data.machine,algorithm:e.data.algorithm},t)}}})})(n)}var e,t={},n,r,i,s,o=["obo_dai361gsjsq","relation_video_rank","relation_game","relation_tv_rank","relation_cartoon_rank","relation_variety_rank","famous_pic","360pic"];$("#warper").on("click",".res-list a",function(e){var t=$(this);i=t.closest("[data-mohe-type]");if(i.length>0){n=i.attr("data-mohe-type");if($.inArray(n,o)>-1)return}else n="",i=t.closest(".res-list");if(t.closest(".res-list").find(".res-recommend").text()||t.closest(".res-linkinfo").length>0||!/^http|^https/.test(t.attr("href")))return;r=$(i.find("a[data-res], .mh-title, .title a")[0]);if(!r.attr("href")||i.find(".inline-recommend").length>0)return;s=r.data("url")||So.lib.getLinkUrl(r.attr("href")),So.lib.observer.publish("so.recommend.click",{url:s,title:r.text()},i)}),$("#warper").on("click",".res-list .inline-recommend a",function(){So.lib.log(e,$.extend(t,{type:"click",value:$(this).text(),datatype:$(this).attr("data-pos")}))}),$(window).on("focus",function(){if(i&&i.length>0){var n=i.find(".inline-recommend");n.is(":hidden")&&($(".inline-recommend").hide(),n.show(),So.lib.log(e,$.extend(t,{type:"show",value:n.find("a").length})))}}),u("so.recommend.click","inline-recommend"),u("dianjing.eideapp.click","inline-recommend_ad"),So.lib.observer.subscribe("so.recommend.tpl",function(r,i){i.append($(r.tpl)),$(".inline-recommend").hide(),t={q:So.comm.q,url:s,p1:r.machine,p2:n?1:0,p3:r.algorithm},e="inlineRecommend_"+r.version})}(),function(){var e=/msie (\d+)/i.test(navigator.userAgent)&&!window.opera?parseInt(RegExp.$1):0;if(e>0&&e<9||$("#header .s_site").length>0)return;So.page.reload.push(function(){$("#head_pdr_guide").remove(),$("#head_rs_top").remove()});var t=$("#header"),n=t.find(".inner"),r=n.height(),i=0,s=0,o,u,a,f,l,c,h,p,d;$(window).on("scroll",function(){i=$(window).scrollTop(),i<=$("#tabs-wrap").height()?t.removeClass("shadow"):t.addClass("shadow"),u=$("#so-pdr-guide"),a=$("#rs-top");if(u.length==0&&a.length==0)return;d=$("#footer").length>0?$("#footer").offset().top-90:0,f=$("#main").offset().top-r;if(d<$(window).height())return;$(".ac_wrap").hide(),h=i+$(window).height()>d,s>i&&i>f||h?(u.length>0&&$("#head_pdr_guide").length==0&&(u.clone().attr("id","head_pdr_guide").css("height",0).appendTo($("#head")),o=$("#head_pdr_guide"),o.find(".so-pdr-bd").css("top",0),$.each(o.find(".so-pdr-bd a"),function(e,t){$(this).attr("href",$(this).attr("href").replace("pdr_guide","pdr_guide_head"))}),o.animate({height:30})),a.length>0&&$("#head_rs_top").length==0&&(a.clone().attr("id","head_rs_top").css("height",0).appendTo($("#head")),l=$("#head_rs_top"),l.find("dd").css("top",0),l.animate({height:30})),p!=So.comm.q&&u.length>0&&(p=So.comm.q,So.lib.log("pdr",{type:"show",datatype:"head",q:So.comm.q,value:So.web.pdrLog()}))):i<=f||i==0?($("#head_pdr_guide").remove(),$("#head_rs_top").remove()):s<=i&&!h&&i>f&&(u.length>0&&$("#head_pdr_guide").length>0&&($("#head_pdr_guide").animate({height:0}),$("#head_pdr_guide").remove()),a.length>0&&$("#head_rs_top").length>0&&($("#head_rs_top").animate({height:0}),$("#head_rs_top").remove())),clearTimeout(c),c=setTimeout(function(){s=i},10)})}();